## 모든 주석과 보고서, 과정은 한글로 설명하고 한글로 처리한다.
## streamlit 에서 csv 데이터들도 각 길드별 길드원들의 격전지 점수와 1초당 점수, 추가 점수, 최대 획득 점수를 보여주는 에이전트다.

점수 계산 조건:
- 길드의 이름은 각 파일에서 _으로 구분된 가장 앞글자이고, 두번째는 날짜, 3번째는 보스 순서, 4번째는 보스 레벨이다. (normal 제외)
- normal은 일반 몬스터를 공격한 점수의 데이터이고, 이 파일에 데이터가 있을 경우 해당 데이터도 참고하며, normal data는 순위에 영향 받지 않는다.
- 각 파일별로 같은 사람의 점수를 봐야한다.
- 1초당 점수 = 1000점 + 격전지 점수*10로 계산된다.
- 사람 마다 추가 점수로 0점, 500점, 1000점, 1500점, 2000점, 2500점, 3000점이 최종 점수에 더해질 수 있다. - 0초 칠 경우 추가 점수만 기록된다. (점수가 500점이나 1000점으로 찍힐 경우 0초를 친 것이기 때문에 추가 점수로 확정할 수 있다.)
- 최대 획득 점수 = 1초당 점수*(1200초+추가획득초) + 추가점수*10이고, 추가획득초는 0,20,60,120 중 하나이다.
- 격전지 점수 = (보스 공격 점수 - 추가 점수)/1초당 점수
- 격전지 점수의 최대는 250, 최소는 6이며 0.5 단위이다.
- for 추가 점수 in (0,500,1000,1500,2000,2500,3000):
    for 격전지 점수 in range(250,6,-0.5):
      if (보스 점수 - 추가 점수)%1초당 점수 == 0:
        return 추가 점수, 격전지 점수
- 추가 점수만 획득한 것을 제외하고 5의 배수인 것 중 가장 적은 점수를 획득한 보스 점수를 기준으로 격전지 점수를 추정한다.
- normal 데이터가 5의 배수인 것 중 가장 적은 점수라면 보스 점수가 아닌 노멀 데이터를 기준으로 격전지 점수를 추정한다.
- 오차는 제외시킨다.
- (길드명)_common.csv 로 되어 있는 데이터는 길드원별 확정된 추가점수와 추가초, 격전지점수를 담고 있으므로, 이 데이터를 우선으로 격전지 점수와 최대획득점수 등을 계산하도록 한다.
- common data의 격전지 점수가 있다면, 최대획득점수는 common data를 기준으로 구한다.


목표:
- streamlit에서 git repository와 연결한 뒤 구해진 값들을 테이블로 볼 수 있도록 대쉬보드를 작성한다.
- 닉네임 점수 추정 결과 표에 각 일자별 csv를 읽고 길드별 각 길드원들의 격전지 점수와 1초당 점수를 계산하여 표로 나타낸다.
- 닉네임 점수 추정 결과 표에서 참여한 보스 수 필드가 아닌 참여한 보스 수 + 일반 몬스터 참여 수 총합인 데이터가 존재하는 공격 횟수 필드로 나타낸다.
- 추정하는 추가 점수에 따라 추정하는 격전지 점수가 달라질 경우 추가 점수와 격전지 점수 쌍으로 둘다 표기한다.
- 추정할 수 있는 격전지 점수가 여러개가 나올 경우 격전지 점수가 높은 상위 2개만 표기한다.
- 다만, 추정_최대획득점수 보다 총점이 높을 경우 이를 만족하는 격전지 점수 상위 2개를 표기해야한다.
- 추정 1초당 점수 또한 추정 격전지 점수가 2개가 나올 경우 각각 표기한다.
- 최대획득점수는 사람이 가진 추가 획득 초 (1200\*1초당점수, 1220\*1초당점수, 1260\*1초당점수, 1320\*1초당점수)에 따라 달라지고 추가 점수에 따라도 달라지기 때문에 각각 구해야한다.
- 최대획득점수는 총점보다 높아야한다.
- 추정 격전지 점수가 3개 이상인 사람의 경우 최대획득점수가 총점 보다 높게되는 격전지 점수를 별도로 격전지 점수 리스트를 표기하도록 한다.
- 해당 길드 전체 길드원의 총점과 추정 최대획득점수 또한 표시해야한다. (추가초는 common file에 확정으로 적힌 사람것만 반영하고 그 외엔 0으로 계산)
- 닉네임별 점수 추정 결과 테이블 아래에 격전지 점수, 추가 점수, 추가 획득 초를 입력 받아 값에 따라 1초당 점수랑 최대 획득 점수 계산해주는 계산기를 생성하며, 결과는 1줄에 표기한다.(기본값: 격전지 점수 100, 추가 획득 초: 0)
- 추가 점수 0,500,1000,1500,2000,2500,3000, 추가 획득 초는 0, 20, 60, 120 중 선택 하도록 한다.
- 1초당 점수랑 최대 획득 점수 계산해주는 계산기는 닉네임을 선택하지 않고, 설정한 점수만으로 계산한다.
- 1초당 점수랑 최대 획득 점수 계산해주는 계산기 아래에 닉네임별 남은 공격 시간과 남은 획득 점수를 계산하는 계산기를 추가한다.
- 계산기는 사람을 선택하도록하고, 해당 사람의 추정 격전지 점수를 기준으로 남은 공격 시간 = (1200+추가획득초)-(총점-공격횟수*추가점수)/1초당점수 이고, 남은 획득 점수 = 해당 사람의 최대획득점수 중 선택된 추가획득 초에 해당하는 점수 - 총점이며, 총점은 임의로 입력한 쉼표로 구분된 추가 입력 점수들의 합을 포함해야한다.
- 만일 추정 격전지 점수와 최대획득점수가 여러개라면 각 격전지 점수별로 모두 보여준다.
- 필터로 길드, 날짜(복수 선택 불가)를 선택할 수 있게한다. (나머지 제거)
- 날짜의 경우 전체 선택을 추가하여 날짜를 전체 선택으로 할 경우 길드합계를 보여주는 것이 아닌 각 날짜별 추정 격전지 점수를 비교하여 볼 수 있도록 한다.
- 시각화나 분석은 다른탭에서 작성한다.
- 원본데이터는 가장 마지막 탭으로 분리하며, 보스별로 테이블을 모두 분리해서 보여주며, 원본 데이터 중 normal을 포함하는 파일명을 가진 데이터를 읽고 해당 데이터도 추가한다.


예시1:
1. M_20260103_2_38에서 뺌삐삐가 500점이기 때문에 추가 점수는 500점으로 추정할 수 있다.
2. M_20260103_1_34에서 뺌삐삐가 2720점이므로 추가 점수 500 점을 빼면 2520점이기 때문에 뺌삐삐는 1초당 2520점 또는 1260점을 얻는 것이고, 따라서 격전지 점수는 151 또는 26으로 추정할 수 있다.
3. 모든 데이터를 보고 총점을 구했을 때, 뺌삐삐는 2128430이므로 격전지 점수가 26일 경우 추가 획득 초가 최대한 120초라고 해도 2128430을 넘을 수 없기 때문에 뺌삐삐의 격전지 점수는 151이라 할 수 있다.

예시2
1. A가 1번 보스에서 217400점을 얻고, 2번 보스에서 265600점을 얻었다면 A는 1초에 2410점을 치는 사람이고, 격전지 점수는 141이며, 추가 점수는 500점인 것을 유추할 수 있다.

예시3
1. 추가 획득 초가 20초인 사람의 최대 획득 점수는 1초당 점수*1220초로 계산한다.

